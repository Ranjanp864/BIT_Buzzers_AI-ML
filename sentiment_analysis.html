<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentiment Analysis</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #004aad;
        }
        .post-selection {
            margin-bottom: 20px;
        }
        #results {
            margin-top: 20px;
            display: none;
        }
        canvas {
            max-width: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sentiment Analysis</h1>
        <div class="post-selection">
            <label for="post-select">Analysing Comments for an Instagram post: </label>
            <select id="post-select">
               
               
                <!-- Added new comments -->
                <option value="10">Dharm insan ka shoshan karta hua</option>
                <option value="11">Water pollution Alert!!!üò¢</option>
                <option value="12">Its Haridwar. Not amroha</option>
                <option value="13">Namami Ganga üö©üôè</option>
                <option value="14">And some later news circulate someone drawn inside deep water so why do</option>
            </select>
            <button id="analyze-button">Analyze Sentiment</button>
        </div>
        <div id="results">
            <h2>Sentiment Analysis Results</h2>
            <canvas id="sentiment-chart"></canvas>
            <div id="inferences"></div>
        </div>
    </div>

    <script>
        const posts = [
            "Excited to have started my new role at [Company]! However, I do wish the onboarding process was smoother‚Äîit felt a bit disorganized. That said, the team has been super welcoming, and I can‚Äôt wait to contribute to the exciting projects here!",
            "Received feedback on my recent presentation, and while there were some encouraging words, it‚Äôs clear I need to improve my communication skills. Looking forward to learning and doing better next time!",
            "We just completed a major milestone on our project‚Äîwhat a team effort! That said, the tight deadlines were a bit stressful, and we‚Äôll need to address this moving forward. Overall, feeling optimistic about what we‚Äôve achieved!",
            "Attended an insightful webinar on AI trends. While some topics were overhyped and felt unrealistic, the case studies shared were fantastic and made me think differently about the future of tech.",
            "Just hit my one-year work anniversary at [Company]. It‚Äôs been a mixed bag‚Äîthere have been growth opportunities and challenging projects, but also moments where I felt overwhelmed and unsupported. Grateful for the experience overall.",
            "Our latest product launch is live! The feedback has been largely positive, though some users have mentioned issues with the interface. We'll keep iterating to provide the best experience possible.",
            "Just shared a blog on my latest research. While I‚Äôm proud of the work, I‚Äôve received some criticism on my methods, which I‚Äôll take into account for future projects. Thanks to everyone who has engaged with the post!",
            "After months of effort, my startup pitch was rejected by investors. It‚Äôs disappointing, but I‚Äôm also getting helpful advice from the community. Feeling both down and motivated to improve my pitch for next time.",
            "Started a new course on leadership! The materials seem promising, though the instructor‚Äôs delivery could be more engaging. Hoping to learn and grow as I dive deeper into this journey.",
            "Struggling with work-life balance lately, but I‚Äôve also received great support from colleagues and family. Need to find a way to organize my time better moving forward.",
            // New comments
            "Dharm insan ka shoshan karta hua",
            "Water pollution Alert!!!üò¢",
            "Its Haridwar. Not amroha",
            "Namami Ganga üö©üôè",
            "And some later news circulate someone drawn inside deep water so why do"
        ];

        const analyzeButton = document.getElementById('analyze-button');
        const resultsDiv = document.getElementById('results');
        const chartCanvas = document.getElementById('sentiment-chart');
        const inferencesDiv = document.getElementById('inferences');

        analyzeButton.addEventListener('click', () => {
            const selectedPostIndex = document.getElementById('post-select').value;
            const selectedPost = posts[selectedPostIndex];

            // Simulating sentiment analysis using hardcoded values
            const sentimentScores = analyzeSentiments(selectedPost);
            const sentimentCategories = categorizeSentiments(sentimentScores);
            const sentimentCounts = countSentiments(sentimentCategories);

            // Update chart and inferences
            updateChart(sentimentCounts);
            displayInferences(sentimentCategories);
        });

        function analyzeSentiments(post) {
            const sentences = post.split('. ');
            return sentences.map(sentence => {
                const randomScore = (Math.random() * 2 - 1).toFixed(2); // Simulate sentiment polarity between -1 and 1
                return parseFloat(randomScore);
            });
        }

        function categorizeSentiments(scores) {
            return scores.map(score => {
                if (score > 0) return 'Positive';
                if (score < 0) return 'Negative';
                return 'Neutral';
            });
        }

        function countSentiments(categories) {
            return categories.reduce((counts, sentiment) => {
                counts[sentiment] = (counts[sentiment] || 0) + 1;
                return counts;
            }, {});
        }

        function updateChart(sentimentCounts) {
            resultsDiv.style.display = 'block';

            const data = {
                labels: Object.keys(sentimentCounts),
                datasets: [{
                    data: Object.values(sentimentCounts),
                    backgroundColor: ['#ff9999', '#66b3ff', '#99ff99'],
                    borderWidth: 1
                }]
            };

            if (window.sentimentChart) {
                window.sentimentChart.destroy();
            }

            window.sentimentChart = new Chart(chartCanvas, {
                type: 'pie',
                data: data,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        tooltip: {
                            callbacks: {
                                label: (tooltipItem) => {
                                    const label = tooltipItem.label || '';
                                    const value = tooltipItem.raw || 0;
                                    return value;
                                }
                            }
                        }
                    }
                }
            });
        }

        function displayInferences(categories) {
            const summary = categories.reduce((acc, sentiment) => {
                acc[sentiment] = (acc[sentiment] || 0) + 1;
                return acc;
            }, {});

            inferencesDiv.innerHTML = `
                <h3>Inferences</h3>
                <p>Positive sentences: ${summary.Positive || 0}</p>
                <p>Negative sentences: ${summary.Negative || 0}</p>
                <p>Neutral sentences: ${summary.Neutral || 0}</p>
            `;
        }
    </script>
</body>
</html>
